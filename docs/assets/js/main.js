"use strict";const buttonSearch=document.querySelector(".button-search"),cocktailssearch=document.querySelector(".cocktailssearch"),buttonReset=document.querySelector(".button-reset"),favoritesHtml=document.querySelector(".favorites");function handleClickSearch(e){e.preventDefault();const t=document.querySelector(".input").value;fetch("https://thecocktaildb.com/api/json/v1/1/search.php?s="+t).then((function(e){return e.json()})).then(e=>{const t=e.drinks;null===e.drinks?cocktailssearch.innerHTML="El coctel buscado no existe":(localStorage.setItem("drinkslocal",JSON.stringify(t)),buildCoctails())})}function buildCoctails(){const e=JSON.parse(localStorage.getItem("drinkslocal"));let t="";for(const c of e){const e=c.strDrink,l=c.strDrinkThumb;t+='<li class="listsearch">',t+=`<div class="cocktails" id="${c.idDrink}">`,t+=`<h2>${e}</h2>`,t+=""===l?'<img class="image" src="https://via.placeholder.com/210x295/ffffff/666666/?text=C%C3%B3ctel">':`<img class="image" src="${l}">`,t+="</div>",t+="</li>"}cocktailssearch.innerHTML=t,handleClickCocktails()}function handleClickCocktails(){const e=document.querySelectorAll(".cocktails");for(const t of e)t.addEventListener("click",addFavorite)}function addFavorite(e){const t=JSON.parse(localStorage.getItem("drinkslocal")),c=document.querySelector(".favorites"),l=e.currentTarget.id,r=t.find(e=>e.idDrink===l);let i=JSON.parse(localStorage.getItem("drinkslocalFav"));null===i&&(i=[]),i.push(r),localStorage.setItem("drinkslocalFav",JSON.stringify(i));let o="";const s=r.strDrink,a=r.strDrinkThumb,n=r.idDrink;o+='<li class="favorites">',o+='<div class="cocktailsfavorites">',o+=`<h2>${s}</h2>`,o+=`<img class="image" src="${a}" width="50">`,o+=`<p class="selecdelete" id="fav-${n}">x</p>`,o+="</div>",o+="</li>",c.innerHTML+=o,colorSelecFav(n),handleClickDelete()}function colorSelecFav(e){document.getElementById(e).classList.add("selecfavo")}function handleClickDelete(){const e=document.querySelectorAll(".selecdelete");for(const t of e)t.addEventListener("click",deleteFavorite)}function deleteFavorite(e){let t=e.currentTarget.id.split("-")[1];const c=JSON.parse(localStorage.getItem("drinkslocalFav")),l=c.findIndex(e=>e.idDrink===t);c.splice(l,1),localStorage.setItem("drinkslocalFav",JSON.stringify(c));const r=document.querySelector(".favorites");r.innerHTML="";let i="";for(const e of c){i+='<li class="favorites">',i+='<div class="cocktailsfavorites"> '+e.strDrink,i+=`<img class="image" src="${e.strDrinkThumb}" width="50">`,i+=`<p class="selecdelete" id="fav-${e.idDrink}">x</p>`,i+="</div>",i+="</li>",r.innerHTML=i}handleClickDelete(),deleteBorderSearch(t)}function deleteBorderSearch(e){document.getElementById(e).classList.remove("selecfavo")}function clearSearch(){localStorage.removeItem("drinkslocal"),localStorage.removeItem("drinkslocalFav"),favoritesHtml.innerHTML="",cocktailssearch.innerHTML=""}buttonSearch.addEventListener("click",handleClickSearch),buttonReset.addEventListener("click",clearSearch),clearSearch();